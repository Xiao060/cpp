# 10.05

## 1

扩展阅读（阅读，加深对面向对象的理解）
[OO真经](https://www.cnblogs.com/leoo2sk/archive/2009/04/09/1432103.html)

## 2

类与类之间的关系有哪几种？各自的特点怎样的？

1. 继承/泛化

    - 继承: 先有基类, 后有派生类
    - 泛化: 先有派生类, 后有基类
    - 语义层面: A is B
    - 代码层面: 继承
    - UML层面: 使用 空心三角箭头 由 派生类 指向 基类

2. 关联

    - 彼此不负责对方的生命周期
    - 语义层面: A has B
    - 代码层面: 含有 对象指针/引用
    - UML层面:
        - 双向关联: 使用 实线 连接
        - 单向关联: 使用 实线箭头 由 A 指向

3. 聚合

    - 一种较强的 关联关系, 表现 整体 与 局部 的 关系
    - 整体 不负责 局部 的销毁
    - 语义层面: A has B
    - 代码层面: 含有 对象指针/引用
    - UML层面: 使用 空心菱形箭头 由 局部 指向 整体

4. 组合

    - 一种更强的 关联关系, 表现 整体 与 局部 的 关系
    - 整体 负责 局部 的销毁
    - 语义层面: A has B
    - 代码层面: 含有 成员子对象
    - UML层面: 使用 实心菱形箭头 由 局部 指向 整体

5. 依赖

    - 彼此不负责对方的生命周期
    - 语义层面: A use B
    - 代码层面:
        - B 为 A 的 参数
        - B 为 A 的 局部变量/返回值
        - A 使用 B 的 静态方法
    - UML层面: 使用 虚线箭头 由 A 指向 B

## 3

面向对象设计有哪些原则？各自的特点是什么？

1. 单一职责原则

    - 一个类 只做一件事情, 只有一个引起变化的原因

2. 开闭原则

    - 对 拓展开放, 对修改关闭
    - 核心思想: 面向抽象编程, 而不是具体编程, 因 抽象稳定

3. 里氏替换原则

    - 核心思想: 派生类 可以替换 基类
        - 派生类 实现 基类的 抽象方法, 表现为 多态
        - 派生类 可以有 自己的个性, 即 派生类 可添加新的方法
        - 派生类 不能 隐藏 父类的 非抽象方法  
            but c++ 中 若 派生类存在与基类同名的函数便会构成隐藏  
            故 禁止在 派生类中定义 基类中的同名函数

4. 依赖倒置原则

    - 核心思想: 面向接口编程, 依赖于抽象 (抽象稳定, 具体在变化)

5. 接口分离原则

    - 核心思想: 使用 多个 小的 专门的接口, 而不是 一个 大接口

6. 最少知识原则

    - 核心思想: 降低 类间 耦合程度

7. 组合复用原则

    - 尽量  采用 组合/聚合 的方式 达到 软件复用的目标, 而不是继承
    - 尽量减少 类间 耦合程度

## 4

运用所学的UML类图的知识，画出“文本查询程序的扩展”作业的类图。

![](https://xiao060.oss-cn-hangzhou.aliyuncs.com/md/Main.png)

## 5

设计模式可以分为几类？分别有哪些？

1. 创建型模式

    1. 单例模式
    2. 简单工厂模式
    3. 工厂方法模式
    4. 抽象工厂模式
    5. 原型模式
    6. 建造者模式

2. 结构性模式

    1. 适配器模式
    2. 桥接模式
    3. 组合模式
    4. 装饰模式
    5. 外观模式
    6. 享元模式
    7. 代理模式

3. 行为型模式

    1. 职责链模式
    2. 命令模式
    3. 解释器模式
    4. 迭代器模式
    5. 中介者模式
    6. 备忘录模式
    7. 观察者模式
    8. 状态模式
    9. 策略模式
    10. 模板方法模式
    11. 访问者模式

## 6

什么是单例模式？它有哪些特点？

1. 单例模式: 一个类只能生成一个对象, 且是唯一对象

2. 特点:

    1. 含有 静态指针, 指向类本身, 并在 类外完成初始化 (饱汉式/饿汉式)
    2. 构造/析构函数 私有; 拷贝/赋值 `delete`;
    3. 添加 静态成员函数, 通过调用 构造函数, 完成对象的创建, 函数返回 数据成员, 即 指向自身的指针
    4. 添加 `init` 函数, 将 创建 与 赋值 分离
    5. 添加 `destory` 函数, `delete` 静态指针, 会自动调用析构函数完成资源回收

## 7

什么是工厂模式？它有哪些特点？

1. 工厂模式: 将 对象的实例化 委托给一个工厂类, 工厂类负责 根据不同的 条件或参数 创建 对应的对象

2. 特点: 将 对象的创建 与 使用代码 进行解耦, 使代码更具 可维护性, 可拓展型, 灵活性
