# 10.30

## 1

HTTP请求报文的报文体可以携带哪些类型的数据, 分别是什么, 各自有什么特点呢？

1. JSON 或 text/plain (raw 纯文本)
    纯文本无具体格式要求

2. x-www-form-urlencoded
    数据量较小时可以采用;  
    消息体格式 与 URI 中的查询词保持一致;  
    key 与 value 中出现 =/& 会转换成相应的 16 进制的编码

3. form-data
    一般用于传输文件;  
    存在边界(boundary) 用于解决粘包问题

## 2

form-data的 boundary 起什么作用, 有什么限制？

用于分隔不同的键值对, 解决粘包问题;

## 3

对称加密和非对称加密有什么区别？简要说明一下HTTPS的握手阶段流程。

1. 对称加密

    1. 发送方与接收方使用相同的密钥, 发送方使用密钥加密, 接收方使用同样的密钥解密;

    2. 简单的对称加密即为 异或 操作

    3. 效率高, 但是安全性差, 若密钥被截获, 则信息的传输不再安全

2. 非对称加密

    1. 发送方与接受方使用不同的密钥, 发送方使用接收方的公钥加密, 接收方使用自己的私钥解密;

    2. 效率差但安全性高

3. HTTPS 握手流程

    1. Client Hello：客户端将浏览器的信息发送给服务端
        通常为支持的加密算法, 通常使用的RSA, 一种非对称加密算法

    2. Server Hello：服务端回复客户端
        内容为 使用的加密算法和一个随机数密钥, 如果这个客户端在一段时间内曾经连接过, 可以复用密钥

    3. Server Certificate：服务端回复客户端自己的证书信息, 浏览器可以验证证书的有效性

    4. Server key exchange & Server finished
        根据选择的加密算法, 选择回复的内容

        1. 可以是一个随机数

        2. 可以生成一对公钥私钥, 并回复公钥

        3. 有些算法可以不回复内容

    5. Client key exchange
        根据算法的不同客户端有不同的选择

        1. 可能是将服务端发来的随机数连同证书部门的信息加密得到新字符串

        2. 可能是通过算法(比如RSA)生成一对密钥, 将公钥发送给服务端

        3. 可能什么都不发送

    6. Key generation：双方根据随机数和生成的新字符串或者是根据彼此公钥和私钥, 生成一个新的相同的密钥(这个密钥是对称加密算法AES/DES的密钥)

    7. Client CipherSpec Exchange & Finish : 通知服务端要切换密码了, 客户端握手完成

    8. Server CipherSpec Exchange & Finish ：回复客户端已经切换密码了, 服务端握手完成

## 4

说明什么是幂等性？

若某个请求执行一次与执行多次的效果相同, 则该操作具有幂等性

## 5

阅读下面链接：
[TLS 详解握手流程](https://juejin.cn/post/6895624327896432654)
[简单聊聊Redis处理接口幂等性的两种方案](https://juejin.cn/post/7135284979348537374)

## 6

C++代码实现：尝试实现一个静态网页服务端, 返回给客户端一张图片
(提示：读取服务器本地的图片文件, 再发送给客户端)

